{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/components/TaskTable.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useRouter } from \"next/navigation\"\r\n\r\nexport default function TaskTable({tasks}) {\r\n  const router = useRouter()\r\n  return (\r\n    <>\r\n        <table className=\"  mt-10 w-2/3 border-2 border-slate-900 shadow-lg\">\r\n              <thead className=\" bg-sky-400 border-2\">\r\n                  <tr className=\" border text-xl uppercase\">\r\n                      <th className=\" border border-slate-500   p-2\">ID</th>\r\n                      <th className=\" border border-slate-500  p-2\">Nombre</th>\r\n                      <th className=\" border border-slate-500 p-2\">DEscripcion</th>\r\n                      <th className=\"border border-slate-500 p-2\">Ultimo registro</th>\r\n                      <th className=\"border border-slate-500 p-2\">Ver Cliente</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody className=\" bg-white\">\r\n                  {tasks.map(task => (\r\n                      <tr className=\" text-center\">\r\n                          <td className=\" p-2 border border-slate-500\">{task.id}</td>\r\n                          <td className=\" p-2 border border-slate-500\">{task.title}</td>\r\n                          <td className=\" p-2 border border-slate-500\">{task.description}</td>\r\n                          <td className=\" p-2 border border-slate-500\">{new Date(task.updatedAt).toLocaleString()}</td>\r\n                          <td className=\" p-2 border border-slate-500 \">\r\n                            <button \r\n                                onClick={() => {router.push('/')}}\r\n                                className=\" bg-slate-500 hover:bg-slate-600 text-white text-sm font-bold  py-2 w-full rounded-lg boder shadow\"\r\n                            >Ver Cliente</button>\r\n                          </td>\r\n                      </tr>    \r\n                  ))}\r\n              </tbody>\r\n          </table>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;;AAEe,SAAS,UAAU,EAAC,KAAK,EAAC;IACvC,MAAM,SAAS,CAAA,GAAA,qLAAA,CAAA,YAAS,AAAD;IACvB,qBACE;kBACI,cAAA,8OAAC;YAAM,WAAU;;8BACX,8OAAC;oBAAM,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;;0CACV,8OAAC;gCAAG,WAAU;0CAAiC;;;;;;0CAC/C,8OAAC;gCAAG,WAAU;0CAAgC;;;;;;0CAC9C,8OAAC;gCAAG,WAAU;0CAA+B;;;;;;0CAC7C,8OAAC;gCAAG,WAAU;0CAA8B;;;;;;0CAC5C,8OAAC;gCAAG,WAAU;0CAA8B;;;;;;;;;;;;;;;;;8BAGpD,8OAAC;oBAAM,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAA,qBACP,8OAAC;4BAAG,WAAU;;8CACV,8OAAC;oCAAG,WAAU;8CAAgC,KAAK,EAAE;;;;;;8CACrD,8OAAC;oCAAG,WAAU;8CAAgC,KAAK,KAAK;;;;;;8CACxD,8OAAC;oCAAG,WAAU;8CAAgC,KAAK,WAAW;;;;;;8CAC9D,8OAAC;oCAAG,WAAU;8CAAgC,IAAI,KAAK,KAAK,SAAS,EAAE,cAAc;;;;;;8CACrF,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCACG,SAAS;4CAAO,OAAO,IAAI,CAAC;wCAAI;wCAChC,WAAU;kDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7B"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/lib/prisma.js"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\r\n\r\nexport const prisma = new PrismaClient()"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,SAAS,IAAI,6HAAA,CAAA,eAAY"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/types/index.js"],"sourcesContent":["import {z} from 'zod'\r\n\r\nexport const TaskSchema = z.object({\r\n    \"title\": z.string(),\r\n    \"description\": z.string()\r\n})"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,aAAa,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/B,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM;IACjB,eAAe,oIAAA,CAAA,IAAC,CAAC,MAAM;AAC3B"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/middlewares/validateRequest.js"],"sourcesContent":["import { TaskSchema } from \"@/types\";\r\n\r\n\r\nexport class validateRequest{\r\n    static async validateTaskRequest(request){\r\n        try {\r\n            const body = await request.json().catch(() => null);\r\n            if (!body) {\r\n            return NextResponse.json(\r\n                { error: \"Cuerpo de la solicitud inválido\" },\r\n                { status: 400 }\r\n            )\r\n            }\r\n            const response = await TaskSchema.safeParse(body)\r\n            if(response.success){\r\n                return  null\r\n            }\r\n        } catch (error) {\r\n            return NextResponse.json(\r\n                { error: \"Datos ingresados no validos\" },\r\n                { status: 400 }\r\n              )\r\n        }\r\n    }\r\n}"],"names":[],"mappings":";;;AAAA;;AAGO,MAAM;IACT,aAAa,oBAAoB,OAAO,EAAC;QACrC,IAAI;YACA,MAAM,OAAO,MAAM,QAAQ,IAAI,GAAG,KAAK,CAAC,IAAM;YAC9C,IAAI,CAAC,MAAM;gBACX,OAAO,aAAa,IAAI,CACpB;oBAAE,OAAO;gBAAkC,GAC3C;oBAAE,QAAQ;gBAAI;YAElB;YACA,MAAM,WAAW,MAAM,qHAAA,CAAA,aAAU,CAAC,SAAS,CAAC;YAC5C,IAAG,SAAS,OAAO,EAAC;gBAChB,OAAQ;YACZ;QACJ,EAAE,OAAO,OAAO;YACZ,OAAO,aAAa,IAAI,CACpB;gBAAE,OAAO;YAA8B,GACvC;gBAAE,QAAQ;YAAI;QAEtB;IACJ;AACJ"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/app/api/task/route.js"],"sourcesContent":["import {prisma} from '@/lib/prisma'\r\nimport { validateRequest } from '@/middlewares/validateRequest'\r\nimport { NextResponse } from \"next/server\"\r\n\r\nexport async function GET(){\r\n    try {\r\n        const task = await prisma.task.findMany()\r\n        return NextResponse.json(task)\r\n    } catch (error) {\r\n        console.log(error.message)\r\n    }\r\n}\r\nexport async function POST(request){\r\n    try {\r\n        const {title, description} = await request.json()\r\n        const newTask = await prisma.task.create({\r\n            data: {\r\n                title,\r\n                description\r\n            }\r\n        })\r\n        return NextResponse.json(newTask)\r\n    } catch (error) {\r\n        return NextResponse.json({error: error.message},{status: 500})\r\n    }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,OAAO,MAAM,oHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,QAAQ;QACvC,OAAO,8HAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC,MAAM,OAAO;IAC7B;AACJ;AACO,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,MAAM,EAAC,KAAK,EAAE,WAAW,EAAC,GAAG,MAAM,QAAQ,IAAI;QAC/C,MAAM,UAAU,MAAM,oHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACrC,MAAM;gBACF;gBACA;YACJ;QACJ;QACA,OAAO,8HAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,8HAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAC,OAAO,MAAM,OAAO;QAAA,GAAE;YAAC,QAAQ;QAAG;IAChE;AACJ"}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/services/tasks.js"],"sourcesContent":["import { POST } from \"@/app/api/task/route\"\r\n\r\n\r\n\r\nexport async function createTask({title, description}){\r\n    try {\r\n        const res = await fetch('/api/task', {\r\n            method: 'POST',\r\n            body: JSON.stringify({title, description}),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        const data = await res.json()\r\n        return data\r\n    } catch (error) {\r\n        console.log({error: error.message})\r\n    }\r\n}\r\n\r\nexport async function getTasks(){\r\n    try {\r\n        const res = await fetch('http://localhost:3000/api/task')\r\n        const tasks = await res.json()\r\n        return tasks\r\n    } catch (error) {\r\n        throw new Error(error.message)\r\n    }\r\n}"],"names":[],"mappings":";;;;AAAA;;AAIO,eAAe,WAAW,EAAC,KAAK,EAAE,WAAW,EAAC;IACjD,IAAI;QACA,MAAM,MAAM,MAAM,MAAM,aAAa;YACjC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAC;gBAAO;YAAW;YACxC,SAAS;gBACL,gBAAgB;YACpB;QACJ;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC;YAAC,OAAO,MAAM,OAAO;QAAA;IACrC;AACJ;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,MAAM,MAAM,MAAM;QACxB,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,MAAM,IAAI,MAAM,MAAM,OAAO;IACjC;AACJ"}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/app/page.jsx"],"sourcesContent":["import TaskTable from \"@/components/TaskTable\"\r\nimport { getTasks } from \"@/services/tasks\"\r\nimport Link from \"next/link\"\r\n\r\nexport default async function Home() {\r\n  const tasks = await getTasks()\r\n  console.log(tasks)\r\n  return (\r\n    <>\r\n      <section className=\" container h-screen mx-auto mt-20  flex flex-col items-center\">\r\n        <h1 className=\" font-bold text-3xl text-center mt-5\">Clientes registrados</h1>\r\n        <p className=\" text-black mt-5\">¿Todavia no has registrado clientes? <Link href={'/new-task'} className=\" text-sky-600\">registrar cliente</Link></p>\r\n        <TaskTable\r\n          tasks={tasks}\r\n        />\r\n      </section>\r\n         \r\n    </>\r\n  )\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,QAAQ,MAAM,CAAA,GAAA,wHAAA,CAAA,WAAQ,AAAD;IAC3B,QAAQ,GAAG,CAAC;IACZ,qBACE;kBACE,cAAA,8OAAC;YAAQ,WAAU;;8BACjB,8OAAC;oBAAG,WAAU;8BAAuC;;;;;;8BACrD,8OAAC;oBAAE,WAAU;;wBAAmB;sCAAqC,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAM;4BAAa,WAAU;sCAAgB;;;;;;;;;;;;8BACxH,8OAAC,+HAAA,CAAA,UAAS;oBACR,OAAO;;;;;;;;;;;;;AAMjB"}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}