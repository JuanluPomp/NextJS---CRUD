{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/lib/prisma.js"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\r\n\r\nexport const prisma = new PrismaClient()"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,SAAS,IAAI,6HAAA,CAAA,eAAY"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/types/index.js"],"sourcesContent":["import {z} from 'zod'\r\n\r\nexport const TaskSchema = z.object({\r\n    \"title\": z.string(),\r\n    \"description\": z.string()\r\n})"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,aAAa,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/B,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM;IACjB,eAAe,oIAAA,CAAA,IAAC,CAAC,MAAM;AAC3B"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/middlewares/validateRequest.js"],"sourcesContent":["import { TaskSchema } from \"@/types\";\r\n\r\n\r\nexport class validateRequest{\r\n    static async validateTaskRequest(request){\r\n        try {\r\n            const body = await request.json().catch(() => null);\r\n            if (!body) {\r\n            return NextResponse.json(\r\n                { error: \"Cuerpo de la solicitud invÃ¡lido\" },\r\n                { status: 400 }\r\n            )\r\n            }\r\n            const response = await TaskSchema.safeParse(body)\r\n            if(response.success){\r\n                return  null\r\n            }\r\n        } catch (error) {\r\n            return NextResponse.json(\r\n                { error: \"Datos ingresados no validos\" },\r\n                { status: 400 }\r\n              )\r\n        }\r\n    }\r\n}"],"names":[],"mappings":";;;AAAA;;AAGO,MAAM;IACT,aAAa,oBAAoB,OAAO,EAAC;QACrC,IAAI;YACA,MAAM,OAAO,MAAM,QAAQ,IAAI,GAAG,KAAK,CAAC,IAAM;YAC9C,IAAI,CAAC,MAAM;gBACX,OAAO,aAAa,IAAI,CACpB;oBAAE,OAAO;gBAAkC,GAC3C;oBAAE,QAAQ;gBAAI;YAElB;YACA,MAAM,WAAW,MAAM,qHAAA,CAAA,aAAU,CAAC,SAAS,CAAC;YAC5C,IAAG,SAAS,OAAO,EAAC;gBAChB,OAAQ;YACZ;QACJ,EAAE,OAAO,OAAO;YACZ,OAAO,aAAa,IAAI,CACpB;gBAAE,OAAO;YAA8B,GACvC;gBAAE,QAAQ;YAAI;QAEtB;IACJ;AACJ"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/app/api/task/route.js"],"sourcesContent":["import {prisma} from '@/lib/prisma'\r\nimport { validateRequest } from '@/middlewares/validateRequest'\r\nimport { NextResponse } from \"next/server\"\r\n\r\nexport async function GET(){\r\n    try {\r\n        const task = await prisma.task.findMany()\r\n        return NextResponse.json(task)\r\n    } catch (error) {\r\n        console.log(error.message)\r\n    }\r\n}\r\nexport async function POST(request){\r\n    try {\r\n        const {title, description} = await request.json()\r\n        const newTask = await prisma.task.create({\r\n            data: {\r\n                title,\r\n                description\r\n            }\r\n        })\r\n        return NextResponse.json(newTask)\r\n    } catch (error) {\r\n        return NextResponse.json({error: error.message},{status: 500})\r\n    }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,OAAO,MAAM,oHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,QAAQ;QACvC,OAAO,8HAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC,MAAM,OAAO;IAC7B;AACJ;AACO,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,MAAM,EAAC,KAAK,EAAE,WAAW,EAAC,GAAG,MAAM,QAAQ,IAAI;QAC/C,MAAM,UAAU,MAAM,oHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACrC,MAAM;gBACF;gBACA;YACJ;QACJ;QACA,OAAO,8HAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,8HAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAC,OAAO,MAAM,OAAO;QAAA,GAAE;YAAC,QAAQ;QAAG;IAChE;AACJ"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/services/tasks.js"],"sourcesContent":["import { POST } from \"@/app/api/task/route\"\r\n\r\n\r\n\r\nexport async function createTask({title, description}){\r\n    try {\r\n        const res = await fetch('/api/task', {\r\n            method: 'POST',\r\n            body: JSON.stringify({title, description}),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        const data = await res.json()\r\n        return data\r\n    } catch (error) {\r\n        console.log({error: error.message})\r\n    }\r\n}\r\n\r\nexport async function getTasks(){\r\n    try {\r\n        const res = await fetch('http://localhost:3000/api/task')\r\n        const tasks = await res.json()\r\n        return tasks\r\n    } catch (error) {\r\n        throw new Error(error.message)\r\n    }\r\n}\r\n\r\nexport async function getTaskById(id){\r\n    try {\r\n        const res = await fetch(`/api/task/${id}`)\r\n        const task = await res.json()\r\n        return task\r\n    } catch (error) {\r\n        throw new Error(error.message)\r\n    }\r\n}\r\nexport async function editTaskById({title, description}, id){\r\n    try {\r\n        const res = await fetch(`/api/task/${id}`, {\r\n            method: 'PUT',\r\n            body: JSON.stringify({title, description}),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        const data = await res.json()\r\n        return data\r\n    } catch (error) {\r\n        throw new Error(error.message)\r\n    }\r\n}\r\n\r\nexport async function deleteTaskById(id){\r\n    try {\r\n        const res = await fetch(`/api/task/${id}`,{\r\n            method: 'DELETE'\r\n        }\r\n        )\r\n        const data = res.json()\r\n        return data\r\n    } catch (error) {\r\n        throw new Error(error.message)\r\n    }\r\n}"],"names":[],"mappings":";;;;;;;AAAA;;AAIO,eAAe,WAAW,EAAC,KAAK,EAAE,WAAW,EAAC;IACjD,IAAI;QACA,MAAM,MAAM,MAAM,MAAM,aAAa;YACjC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAC;gBAAO;YAAW;YACxC,SAAS;gBACL,gBAAgB;YACpB;QACJ;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC;YAAC,OAAO,MAAM,OAAO;QAAA;IACrC;AACJ;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,MAAM,MAAM,MAAM;QACxB,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,MAAM,IAAI,MAAM,MAAM,OAAO;IACjC;AACJ;AAEO,eAAe,YAAY,EAAE;IAChC,IAAI;QACA,MAAM,MAAM,MAAM,MAAM,CAAC,UAAU,EAAE,IAAI;QACzC,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,MAAM,IAAI,MAAM,MAAM,OAAO;IACjC;AACJ;AACO,eAAe,aAAa,EAAC,KAAK,EAAE,WAAW,EAAC,EAAE,EAAE;IACvD,IAAI;QACA,MAAM,MAAM,MAAM,MAAM,CAAC,UAAU,EAAE,IAAI,EAAE;YACvC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAC;gBAAO;YAAW;YACxC,SAAS;gBACL,gBAAgB;YACpB;QACJ;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,MAAM,IAAI,MAAM,MAAM,OAAO;IACjC;AACJ;AAEO,eAAe,eAAe,EAAE;IACnC,IAAI;QACA,MAAM,MAAM,MAAM,MAAM,CAAC,UAAU,EAAE,IAAI,EAAC;YACtC,QAAQ;QACZ;QAEA,MAAM,OAAO,IAAI,IAAI;QACrB,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,MAAM,IAAI,MAAM,MAAM,OAAO;IACjC;AACJ"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juan.lizarraga/Documents/projects/nextjs/NextJS---CRUD/src/components/TaskTable.jsx"],"sourcesContent":["\"use client\"\r\nimport React from 'react'\r\nimport { useRouter } from \"next/navigation\"\r\nimport { deleteTaskById } from '@/services/tasks'\r\nimport { toast } from 'react-toastify'\r\n\r\nexport default function TaskTable({tasks}) {\r\n  const router = useRouter()\r\n\r\n  const handleClick = async (id) => {\r\n    const data = await deleteTaskById(id)\r\n    router.refresh()\r\n    toast.success(data)\r\n  }\r\n  return (\r\n    <>\r\n        <table className=\"  mt-10 w-2/3 border-2 border-slate-900 shadow-lg\">\r\n              <thead className=\" bg-sky-400 border-2\">\r\n                  <tr className=\" border text-xl uppercase\">\r\n                      <th className=\" border border-slate-500   p-2\">ID</th>\r\n                      <th className=\" border border-slate-500  p-2\">Titulo</th>\r\n                      <th className=\" border border-slate-500 p-2\">DEscripcion</th>\r\n                      <th className=\"border border-slate-500 p-2\">Ultimo registro</th>\r\n                      <th className=\"border border-slate-500 p-2\">Ver Tarea</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody className=\" bg-white\">\r\n                  {tasks.map(task => (\r\n                      <tr className=\" text-center\" key={task.id}>\r\n                          <td className=\" p-2 border border-slate-500 font-bold\">{task.id}</td>\r\n                          <td className=\" p-2 border border-slate-500\">{task.title}</td>\r\n                          <td className=\" p-2 border border-slate-500\">{task.description}</td>\r\n                          <td className=\" p-2 border border-slate-500\">{new Date(task.updatedAt).toLocaleString()}</td>\r\n                          <td className=\" p-2  border max-h-full flex justify-center gap-1\">\r\n                            <button \r\n                                onClick={() => {router.push('/tasks/edit/'+task.id)}}\r\n                                className=\" bg-slate-500 hover:bg-slate-600 text-white text-sm p-1 w-full  rounded-lg boder shadow\"\r\n                            >Editar</button>\r\n                            <button \r\n                                onClick={()=> handleClick(task.id)}\r\n                                className=\" bg-red-500 hover:bg-red-600 text-white text-sm p-1 w-full  rounded-lg boder shadow\"\r\n                            >Eliminar</button>\r\n                          </td>\r\n                      </tr>    \r\n                  ))}\r\n              </tbody>\r\n          </table>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS,UAAU,EAAC,KAAK,EAAC;IACvC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,cAAc,OAAO;QACzB,MAAM,OAAO,MAAM,CAAA,GAAA,wHAAA,CAAA,iBAAc,AAAD,EAAE;QAClC,OAAO,OAAO;QACd,mJAAA,CAAA,QAAK,CAAC,OAAO,CAAC;IAChB;IACA,qBACE;kBACI,cAAA,8OAAC;YAAM,WAAU;;8BACX,8OAAC;oBAAM,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;;0CACV,8OAAC;gCAAG,WAAU;0CAAiC;;;;;;0CAC/C,8OAAC;gCAAG,WAAU;0CAAgC;;;;;;0CAC9C,8OAAC;gCAAG,WAAU;0CAA+B;;;;;;0CAC7C,8OAAC;gCAAG,WAAU;0CAA8B;;;;;;0CAC5C,8OAAC;gCAAG,WAAU;0CAA8B;;;;;;;;;;;;;;;;;8BAGpD,8OAAC;oBAAM,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAA,qBACP,8OAAC;4BAAG,WAAU;;8CACV,8OAAC;oCAAG,WAAU;8CAA0C,KAAK,EAAE;;;;;;8CAC/D,8OAAC;oCAAG,WAAU;8CAAgC,KAAK,KAAK;;;;;;8CACxD,8OAAC;oCAAG,WAAU;8CAAgC,KAAK,WAAW;;;;;;8CAC9D,8OAAC;oCAAG,WAAU;8CAAgC,IAAI,KAAK,KAAK,SAAS,EAAE,cAAc;;;;;;8CACrF,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;4CACG,SAAS;gDAAO,OAAO,IAAI,CAAC,iBAAe,KAAK,EAAE;4CAAC;4CACnD,WAAU;sDACb;;;;;;sDACD,8OAAC;4CACG,SAAS,IAAK,YAAY,KAAK,EAAE;4CACjC,WAAU;sDACb;;;;;;;;;;;;;2BAb2B,KAAK,EAAE;;;;;;;;;;;;;;;;;AAqB/D"}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}